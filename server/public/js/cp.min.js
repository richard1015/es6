!function(t){var r={};function o(e){if(r[e])return r[e].exports;var n=r[e]={"i":e,"l":!1,"exports":{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{"enumerable":!0,"get":t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{"value":"Module"}),Object.defineProperty(e,"__esModule",{"value":!0})},o.t=function(n,e){if(1&e&&(n=o(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{"enumerable":!0,"value":n}),2&e&&"string"!=typeof n)for(var r in n)o.d(t,r,function(e){return n[e]}.bind(null,r));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="",o(o.s=0)}({"./app/js/class/lesson11.js":function(module,exports){eval("/* Proxy 对象代理 */\n\n{\n    let obj = {\n        time: '2018年09月12日',\n        name: 'net',\n        _r: 123\n    };\n\n    let monitor = new Proxy(obj, {\n        //拦截对象读取属性\n        get(target, key) {\n            return target[key].replace('2018', '2019')\n        },\n        //拦截对象设置属性\n        set(target, key, value) {\n            if (key === 'name') {\n                return target[key] = value;\n            } else {\n                return target[key];\n            }\n        },\n        // 拦截key in obj\n        has(target, key) {\n            if (key == 'name') {\n                return target[key];\n            } else {\n                return false;\n            }\n        },\n        // 拦截delete\n        deleteProperty(target, key) {\n            if (key.includes('_')) {\n                delete target[key];\n                return true;\n            } else {\n                return target[key];\n            }\n        },\n        // 拦截Object.keys,getOwnPropertySymbols,getOwnPropertyNames\n        ownKeys(target) {\n            return Object.keys(target).filter(item => item != 'time');\n        }\n    });\n    console.log('get', monitor.time);\n\n    monitor.time = '2088';\n    monitor.name = 'zzzz';\n    console.log('set', monitor);\n    console.log('has', 'name' in monitor, 'time' in monitor);\n\n\n    // delete monitor.time;\n    // delete monitor._r;\n    // console.log('delete', monitor);\n\n    console.log('ownKeys', Object.keys(monitor));\n\n}\n\n/* Reflect */\n{\n    let obj = {\n        time: '2018年09月12日',\n        name: 'net',\n        _r: 123\n    };\n\n    console.log('Reflect get', Reflect.get(obj, 'time'))\n    console.log('Reflect set', Reflect.set(obj, 'time', '2018年09月12日14:11:48'), obj)\n    console.log('Reflect has', Reflect.has(obj, 'name'))\n}\n\n/* 使用场景   数据校验 */\n{\n    function validator(target, validator) {\n        return new Proxy(target, {\n            _validator: validator,\n            set(target, key, value, proxy) {\n                if (target.hasOwnProperty(key)) {\n                    let v = this._validator[key];\n\n                    if (!v || v(value)) {\n                        return Reflect.set(target, key, value, proxy)\n                    } else {\n                        throw Error(`不能设置${key}到${value}`);\n                    }\n                } else {\n                    throw Error(`key ${key} 不存在`);\n                }\n            },\n\n        });\n    }\n\n    const personValidators = {\n        name(val) {\n            return typeof val === 'string';\n        },\n        age(val) {\n            return typeof val === 'number' && val >= 18;\n        }\n    }\n\n    class Person {\n        constructor(name, age) {\n            this.name = name;\n            this.age = age;\n            this.sex = 1;\n            return validator(this, personValidators)\n        }\n    }\n\n    const person = new Person('tt', 12)\n    console.info(person);\n    person.name = 'richard';\n    person.sex = 3;\n    console.info(person);\n\n}\n\n//# sourceURL=webpack:///./app/js/class/lesson11.js?")},"./app/js/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _class_lesson11_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./class/lesson11.js */ "./app/js/class/lesson11.js");\n/* harmony import */ var _class_lesson11_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_class_lesson11_js__WEBPACK_IMPORTED_MODULE_0__);\n// class Test{\n//     constructor(){\n//         this.a=\'hello world 1\'\n//     }\n// }\n\n// let test=new Test();\n\n// document.body.innerHTML=test.a;\n\n\n\n\n// import "./class/lesson1.js";\n// import "./class/lesson2.js";\n// import "./class/lesson3.js";\n\n// 兼容包\n// import \'babel-polyfill\';\n// import "./class/lesson4.js";\n// import "./class/lesson5.js";\n// import "./class/lesson6.js";\n//不需要兼容包\n// import "./class/lesson7.js";\n// import "./class/lesson8.js";\n// import "./class/lesson9.js";\n// import "./class/lesson10.js";\n\n\n//# sourceURL=webpack:///./app/js/index.js?')},"0":function(module,exports,__webpack_require__){eval('module.exports = __webpack_require__(/*! /Users/richard/github/es6/app/js/index.js */"./app/js/index.js");\n\n\n//# sourceURL=webpack:///multi_./app/js/index.js?')}});